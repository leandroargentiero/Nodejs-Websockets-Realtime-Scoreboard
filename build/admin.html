<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/build/css/reset.css">
    <link rel="stylesheet" href="/build/css/style.css">
</head>

<body>
    <div class="dashboard">
        <h2 class="title">Admin Dashboard</h2>

        <button id="reset">Start new game</button>
        <div class="team-selection">
            <select name="team1" id="selector-team1">
                <option value="team1">Choose team 1</option>
                <option value="albania">albania</option>
                <option value="belgium">belgium</option>
                <option value="croatia">croatia</option>
                <option value="czech">czech</option>
                <option value="england">england</option>
                <option value="france">france</option>
                <option value="germany">germany</option>
                <option value="iceland">iceland</option>
                <option value="italia">italia</option>
                <option value="poland">poland</option>
                <option value="portugal">portugal</option>
                <option value="romania">romania</option>
                <option value="slovenia">slovenia</option>
                <option value="spain">spain</option>
                <option value="sweden">sweden</option>
                <option value="switzerland">switzerland</option>
                <option value="ukraine">ukraine</option>
                <option value="wales">wales</option>
            </select>
            <h3>VS</h3>
            <select name="team2" id="selector-team2">
                <option value="team2">Choose team 2</option>
                <option value="albania">albania</option>
                <option value="belgium">belgium</option>
                <option value="croatia">croatia</option>
                <option value="czech">czech</option>
                <option value="england">england</option>
                <option value="france">france</option>
                <option value="germany">germany</option>
                <option value="iceland">iceland</option>
                <option value="italia">italia</option>
                <option value="poland">poland</option>
                <option value="portugal">portugal</option>
                <option value="romania">romania</option>
                <option value="slovenia">slovenia</option>
                <option value="spain">spain</option>
                <option value="sweden">sweden</option>
                <option value="switzerland">switzerland</option>
                <option value="ukraine">ukraine</option>
                <option value="wales">wales</option>
            </select>
        </div>
        <div class="statistics">
            <div class="scores">
                <button class="goals" id="goals-team1-up">+</button>
                <h3 class="goalsTeam1">0</h3>
                <button class="goals" id="goals-team1-down">-</button>
                <p>Score</p>
                <button class="goals" id="goals-team2-up">+</button>
                <h3 class="goalsTeam2">0</h3>
                <button class="goals" id="goals-team2-down">-</button>
            </div>
            <div class="shots">
                <button class="shots" id="shots-team1-up">+</button>
                <h3 class="shotsTeam1">0</h3>
                <button class="shots" id="shots-team1-down">-</button>
                <p>Shots</p>
                <button class="shots" id="shots-team2-up">+</button>
                <h3 class="shotsTeam2">0</h3>
                <button class="shots" id="shots-team2-down">-</button>
            </div>
            <div class="fouls">
                <button class="fouls" id="fouls-team1-up">+</button>
                <h3 class="foulsTeam1">0</h3>
                <button class="fouls" id="fouls-team1-down">-</button>
                <p>Fouls</p>
                <button class="fouls" id="fouls-team2-up">+</button>
                <h3 class="foulsTeam2">0</h3>
                <button class="fouls" id="fouls-team2-down">-</button>
            </div>
        </div>
        <div class="updates">
            <h3>Realtime Updates</h3>
            <form action="">
                <input type="text" id="txtUpdateTeam1" placeholder="Type here your update for team 1">
                <input type="text" id="txtUpdateTeam2" placeholder="Type here your update for team 2">
            </form>
        </div>
    </div>
    <input type="hidden" id="objectID" value="">
</body>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    var socket = io();
    var shotsTeam1 = 0;
    var shotsTeam2 = 0;
    var foulsTeam1 = 0;
    var foulsTeam2 = 0;
    var goalsTeam1 = 0;
    var goalsTeam2 = 0;
    /*
        $('#selector-team1').on('change', function() {
            socket.emit('selector-team1', {
                "country": $('#selector-team1').val()
            });
        });
		*/

    $('button').on('click', function() {
        var id = this.id;
        var objectID = $("#objectID").val()
        socket.emit(this.id, {
            'id': objectID
        });
    });

    $('select').on('change', function() {
        var objectID = $("#objectID").val();
        socket.emit(this.id, {
            'id': objectID,
            'country': $(this).find(":selected").text()
        });
    });
	
	socket.on('reset', function(game){
  	$('#objectID').attr('value', game._id);
});

    /*
        $('#selector-team2').on('change', function() {
            socket.emit('selector-team2', {
                "country": $('#selector-team2').val()
            });
        });
		*/
    /*
		$('.goals').on('click', function() {
            var button = $(this).attr('id');

            if (button == 'goals-team1-up') {
                goalsTeam1 += 1;
				$('.goalsTeam1').text(goalsTeam1);
                socket.emit('goals-team1-up', {
                    "goalsTeam1": goalsTeam1
                });
            } else if (button == 'goals-team1-down') {
                goalsTeam1 -= 1;
				$('.goalsTeam1').text(goalsTeam1);
                socket.emit('goals-team1-down', {
                    "goalsTeam1": goalsTeam1
                });
            } else if (button == 'goals-team2-up') {
                goalsTeam2 += 1;
				$('.goalsTeam2').text(goalsTeam2);
                socket.emit('goals-team2-up', {
                    "goalsTeam2": goalsTeam2
                });
            } else if (button == 'goals-team2-down') {
                goalsTeam2 -= 1;
				$('.goalsTeam2').text(goalsTeam2);
                socket.emit('goals-team2-down', {
                    "goalsTeam2": goalsTeam2
                });
            }
        });
        $('.shots').on('click', function() {
            var button = $(this).attr('id');

            if (button == 'shots-team1-up') {
                shotsTeam1 += 1;
				$('.shotsTeam1').text(shotsTeam1);
                socket.emit('shots-team1-up', {
                    "shotsTeam1": shotsTeam1
                });
            } else if (button == 'shots-team1-down') {
                shotsTeam1 -= 1;
				$('.shotsTeam1').text(shotsTeam1);
                socket.emit('shots-team1-down', {
                    "shotsTeam1": shotsTeam1
                });
            } else if (button == 'shots-team2-up') {
                shotsTeam2 += 1;
				$('.shotsTeam2').text(shotsTeam2);
                socket.emit('shots-team2-up', {
                    "shotsTeam2": shotsTeam2
                });
            } else if (button == 'shots-team2-down') {
                shotsTeam2 -= 1;
				$('.shotsTeam2').text(shotsTeam2);
                socket.emit('shots-team2-down', {
                    "shotsTeam2": shotsTeam2
                });
            }
        });
        $('.fouls').on('click', function() {
            var button = $(this).attr('id');

            if (button == 'fouls-team1-up') {
                foulsTeam1 += 1;
				$('.foulsTeam1').text(foulsTeam1);
                socket.emit('fouls-team1-up', {
                    "foulsTeam1": foulsTeam1
                });
            } else if (button == 'fouls-team1-down') {
                foulsTeam1 -= 1;
				$('.foulsTeam1').text(foulsTeam1);
                socket.emit('fouls-team1-down', {
                    "foulsTeam1": shotsTeam1
                });
            } else if (button == 'fouls-team2-up') {
                foulsTeam2 += 1;
				$('.foulsTeam2').text(foulsTeam2);
                socket.emit('fouls-team2-up', {
                    "foulsTeam2": foulsTeam2
                });
            } else if (button == 'fouls-team2-down') {
                foulsTeam2 -= 1;
				$('.foulsTeam2').text(foulsTeam2);
                socket.emit('fouls-team2-down', {
                    "fouls": foulsTeam2
                });
            }
        });
		
		$('input').keyup('click', function(e){
			var input = $(this).attr('id');
			
			if(input == 'txtUpdateTeam1' && e.keyCode == 13){
				socket.emit('updateTeam1', {
					"update": $('#txtUpdateTeam1').val()
				});
				$('#txtUpdateTeam1').val('');
			}else if(input == 'txtUpdateTeam2' && e.keyCode ==13){
				socket.emit('updateTeam2', {
					"update": $('#txtUpdateTeam2').val()
				});
				$('#txtUpdateTeam2').val('');
			}
		});
		*/
</script>

</html>